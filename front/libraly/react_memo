カスタムフック
ロジックをコンポーネントに分離(ロジックを書いたファイル(コンポーネント)を作成すること)したり、その分離したコンポーネントを他のコンポーネントでロジックを再利用したりすることができる

presentational component
hooksを利用し、デザインをまとめたコンポーネント

container component
hooksを利用し、ロジックをまとめたコンポーネント

React Router
reactのルーティングのライブラリ
サーバーサイドとSPAのルーティングの違い
サーバーサイド
リクエストしたURLに対して、紐づくページをサーバーがクライアントに返す
SPA
初回リクエストにURLに関わらず、アプリケーション全体が記述されたJavaScriptのコードのかたまりのアセットファイルが返される。それ以降のページ遷移は、動的にDOM要素を書き換えることで移動している。

コンポーネントAPI

プロバイダコンポーネントをトップレベルに設定することで、各種APIがコンポーネントツリーの下の階層で使えるようになる

ルーティングプロバイダ・コンポーネント
<BrowserRouter>
HTML5のHistory APIを使ってUIとURLを動的に同期してくれるルーターコンポーネント。(一般的なSPAの開発はこれ一択)

path属性値
exact
完全一致
strict
末尾のスラッシュ有無をマッチングを厳密にする
sensitive
大文字か小文字かまで正確にマッチングさせる

Hooks API

ブラウザ履歴系
userHistory
ページ遷移させるときに使うhistoryを取得できます
要素
leagth・・・スタックされている履歴の数
action・・・直近に実行されたアクションの種類("PUSH","REPLACE","POP")
push(PATH)・・・引数PATHで指定したパスに移動するメソッド
replace(PATH)・・・引数PATHで指定したパスにリダイレクトするメソッド(現在いるページの履歴は消える)
goBack()・・・ひとつ前の履歴ページに戻るメソッド
goForward()・・・ひとつ前の履歴ページに進むメソッド
go(N)・・・引数Nで指定した番号の履歴に移動するメソッド

useLocation
現在のページのURLのpathやqueryなどの情報を取得できます

locationオブジェクトにはその時点でURL情報を格納される
Google Analytics
Googleが提供する無料のアクセス解析ツールです。アクセス解析とは、Webサイトへのアクセス状況をさまざまな視点から分析することです。
key
locationオブジェクトごとに生成されるユニークな文字列

useRouteMatch
matchオブジェクトをまるごと取得する

useParams
matchオブジェクトをまるごと取得したURLパラメータだけを抽出する

ディレクトリの構成

presentational component
hooksを利用し、デザインをまとめたコンポーネント
使用方法
components/...
componentsフォルダーの中にデザイン系のファイルをまとめる

container component
hooksを利用し、ロジックをまとめたコンポーネント
使用方法
containers/...
containersフォルダーの中にロジック系のファイルをまとめる

Atomic Design
UIデザインの手法
小さい順に
atoms・・・原子
molecules・・・分子
organisms・・・有機体
templates・・・テンプレート
pages・・・ページ
というディレクトリの構成になる
使用方法に基準はないが、atomsが<Botton>や<Icon>などの最小単位で、moleculesはatomsを組み合わせたもので、organismsはmoleculesを組み合わせたもので自分のカテゴリーより小さい単位を組み合わせる

<Helmet>
どこからでもHTMLドキュメントヘッダっを動的に上書きしてくれるもの
SPAでの注意点
SPAは意図して書き換えないと常にpublic/index.htmlに書かれた<title>の中身がどこのページでもそのページのタイトルになってしまうから<Helmet>を使用することがある

SPAでの注意点2
ページ遷移時にサーバーサイドアプリならスクロールがトップ位置になるがSPAではページ遷移したスクロールの位置と同じ位置にページ遷移してしまう。なので、ページ遷移時にスクロールトップに移動するコードをApp.txsに書かなければならない